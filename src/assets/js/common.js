var $upBtn=$("#go-top");$($upBtn).on("click",function(t){t.preventDefault();var e=this.hash;$(e);$("html, body").animate({scrollTop:0},500,function(){window.location.hash=e})}),$(window).scroll(function(){$upBtn["fade"+($(this).scrollTop()>400?"In":"Out")](500)}),$(document).ready(function(){function t(){var t=$(".header-cart-list .product-cart-itm-wrapper").length,e=$(".cart-indicator"),a=$(".header-cart-link-wrapper"),i=$(".product-cart-total"),r=$(".header-cart-itms"),n=$(".empty-cart-mess");t>0?($(".cart-itms-count").text(t),$(".cart-indicator span").text(t),n.hide(),"none"!=a.css("display")&&"none"!=i.css("display")&&"none"!=e.css("display")||(i.show(),a.show(),e.show(),n.hide())):(r.hide(),e.hide(),i.hide(),a.hide(),n.show())}function e(){var t=0;$(".product-cart-itm").each(function(){var e=Number($(this).find(".cart-quantity").val()),a=Number($(this).find(".cart-price").text());t+=e*a}),$(".product-cart-total-price-value").text(t)}function a(){s.addClass("modal-open"),s.css("padding-right","4px"),$("#headerCartBlck").addClass("visible"),$(document.createElement("div")).addClass("cart-backdrop").attr("id","cartPreviewBg").insertAfter($(".header-cart-block")),setTimeout(function(){$("#cartPreviewBg").addClass("in")},100)}function i(){s.removeClass("modal-open"),s.css("padding-right","0"),$("#headerCartBlck").removeClass("visible"),$("#cartPreviewBg").removeClass("in"),setTimeout(function(){$("#cartPreviewBg").remove()},200)}function r(){var t=0;$(".order-itm").each(function(){var e=Number($(this).find(".order-quantity").val()),a=Number($(this).find(".price").text());t+=e*a}),$("#dropshipperTotalSum").text(t),o()}function n(){var t=0,e=0,a=0;$(".order-itm").each(function(){var i=Number($(this).find(".order-quantity").val()),r=Number($(this).find(".price").text()),n=Number($(this).find(".my-price").val());isNaN(n)&&(n=n||0),t+=i*r,e+=n*i,a+=i*(n-r)}),$("#customerTotalSum").text(t),$("#customerPaysSum").text(e),$("#myProfit").text(a)}function o(){var t=Number($("#bonuses").text()),e=Number($("#dropshipperTotalSum").text());$("#bonusPayment").is(":checked")?$("#dropshipperTotalPay").text(e-t):$("#dropshipperTotalPay").text(e)}var s=$("body"),c=$(".header-search-block");$(".search-btn").on("click",function(){c.toggleClass("active"),c.hasClass("active")?(s.addClass("modal-open"),s.css("padding-right","4px"),$("#search").focus()):s.removeClass("modal-open")}),$("#searchClose").on("click",function(){s.removeClass("modal-open"),s.css("padding-right",""),c.removeClass("active")}),$("#search").on("input",function(){var t=$.trim($(this).val());t&&t.length>0?$(".search-submit-wrapp input").addClass("visible"):$(".search-submit-wrapp input").removeClass("visible")}),$(".inputmask").inputmask({mask:"+38 099 999 99 99"}),$(".select2").select2({width:"100%"}),$('.profile-content b[role="presentation"]').hide(),$("#myMenu").offcanvas({toggle:!1,placement:"auto",autohide:!0,recalc:!1,disableScrolling:!0}),$("#myMenu").offcanvas("hide"),$("#myMenu button.cancel").on("click",function(){$("#myMenu").offcanvas("hide")}),$("#myMenu").on("show.bs.offcanvas",function(){$(document.createElement("div")).addClass("menu-backdrop").insertAfter($(this)),setTimeout(function(){$(".menu-backdrop").addClass("in")},100)}),$("#myMenu").on("hide.bs.offcanvas",function(){$(".menu-backdrop").remove()}),$("#mobFilter button.cancel").on("click",function(){$("#mobFilter").offcanvas("hide")}),$("#sort button.cancel").on("click",function(){$("#sort").offcanvas("hide")}),t(),$(".product-cart-itm .delete-btn").on("click",function(a){$(a.currentTarget).closest("li").remove(),t(),e()}),e(),$(".cart-quantity").change(function(){e()}),$("#headerCartBtn").on("click",function(){$("#headerCartBlck").hasClass("visible")?i():a()}),$("#headerCartClose").on("click",function(){i()}),$(document).on("click","#cartPreviewBg",function(){i()}),$(".btn-number").click(function(t){t.preventDefault(),fieldName=$(this).attr("data-field"),type=$(this).attr("data-type");var e=$("input[name='"+fieldName+"']"),a=parseInt(e.val());isNaN(a)?e.val(0):"minus"===type?(a>e.attr("min")&&e.val(a-1).change(),parseInt(e.val())===e.attr("min")&&$(this).attr("disabled",!0)):"plus"===type&&(a<e.attr("max")&&e.val(a+1).change(),parseInt(e.val())===e.attr("max")&&$(this).attr("disabled",!0))});var d=$(".input-number");d.focusin(function(){$(this).data("oldValue",$(this).val())}),d.change(function(){var t=parseInt($(this).attr("min")),e=parseInt($(this).attr("max")),a=parseInt($(this).val()),i=$(this).attr("name");a>=t?$(".btn-number[data-type='minus'][data-field='"+i+"']").removeAttr("disabled"):($("#invalidValueModal").modal("show"),$(this).val($(this).data("oldValue"))),a<=e?$(".btn-number[data-type='plus'][data-field='"+i+"']").removeAttr("disabled"):($("#invalidValueModal").modal("show"),$(this).val($(this).data("oldValue")))}),d.keydown(function(t){-1!==$.inArray(t.keyCode,[46,8,9,27,13,190])||65==t.keyCode&&!0===t.ctrlKey||t.keyCode>=35&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()}),objectFitImages(),$('img[src$=".svg"]').each(function(){var t=jQuery(this),e=t.attr("id"),a=t.attr("class"),i=t.attr("data-no-svg"),r=t.attr("src");"true"!=i&&jQuery.get(r,function(i){var r=jQuery(i).find("svg");void 0!==e&&(r=r.attr("id",e)),void 0!==a&&(r=r.attr("class",a+" replaced-svg")),r=r.removeAttr("xmlns:a"),$(r).find("defs").prepend('<linearGradient id="MyGradient"><stop offset="5%" stop-color="#F60" /><stop offset="95%" stop-color="#FF6" /></linearGradient>'),!r.attr("viewBox")&&r.attr("height")&&r.attr("width")&&r.attr("viewBox","0 0 "+r.attr("height")+" "+r.attr("width")),t.replaceWith(r)},"xml")}),$("button.favourite-btn").each(function(){$(this).hasClass("active")?$(this).attr("data-target","#removeFromFavouriteModal"):$(this).attr("data-target","#addToFavouriteModal")}),$(".my-price").each(function(t){$(t.currentTarget);$(this).on("input",function(){Number($.trim($(this).val()));n()})}),r(),$("#bonusPayment").on("change",function(){r(),$(this).is(":checked")?$(".bonus-payment dd").css("color","#007bff"):$(".bonus-payment dd").css("color","#97A6C0")}),$(".order-quantity").change(function(){r(),n()}),$(":radio[name='personWhoPays']").on("change",function(t){var e=($(t.currentTarget),t.currentTarget.id);"customerPaysVariant"===e?n():"dropshippePaysVariant"===e&&r()}),$(":radio[type='radio']").each(function(){$(this).is(":checked")?$(this).parent().parent().siblings(".inputs-wrapp").find("input").prop("disabled",!1).attr("required","required"):$(this).parent().parent().siblings(".inputs-wrapp").find("input").attr("disabled","disabled").prop("required",!1)}),$(":radio[type='radio']").on("change",function(t){var e=($(t.currentTarget),t.currentTarget.name);if($(":radio[name='"+e+"']").is(":checked")){var a=$(this).data("value");$("#"+a).addClass("open"),$(this).parent().parent().siblings(".inputs-wrapp").find("input").prop("disabled",!1).attr("required","required")}if($(":radio[name='"+e+"']").not(":checked").each(function(){var t=$(this).data("value");$("#"+t).removeClass("open"),$(this).parent().parent().siblings(".inputs-wrapp").find("input").attr("disabled","disabled").prop("required",!1)}),e="personWhoPays"){var i=$("#customerPaysTotal"),r=$("#dropshipperPaysTotal");$("#customerPaysVariant").is(":checked")?($(".order-itm-bargain").addClass("open"),$(".order-itm-bargain input.my-price").attr("required",!0),i.css({height:"auto",opacity:"1",overflow:"visible"}),r.css({height:"0",opacity:"0",overflow:"hidden"})):($(".order-itm-bargain").removeClass("open"),$(".order-itm-bargain input.my-price").attr("required",!1),i.css({height:"0",opacity:"0",overflow:"hidden"}),r.css({height:"auto",opacity:"1",overflow:"visible"}))}})});